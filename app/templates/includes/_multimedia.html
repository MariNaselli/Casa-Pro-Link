<div class="row mb-4">
    <div class="col-md-6 border-end">
        <label class="form-label fw-bold text-success small">Galería de Imágenes</label>
        
        {% if p %}
        <div class="d-flex flex-wrap gap-2 mb-3">
            {% for archivo in p.archivos if archivo.tipo == 'imagen' %}
            <div class="position-relative shadow-sm" style="width: 80px; height: 80px;">
                <img src="{{ url_for('static', filename='uploads/' + archivo.archivo_nombre) }}" 
                     class="rounded border" 
                     style="width: 100%; height: 100%; object-fit: cover">
                <button type="button" onclick="borrarArchivoAjax(this, '{{ archivo.id }}')" 
                        class="btn btn-danger btn-sm position-absolute top-0 end-0 p-0 shadow" 
                        style="width:20px; height:20px; margin-top: -5px; margin-right: -5px; border-radius: 50%;">×</button>
            </div>
            {% endfor %}
        </div>
        {% endif %}

        <div class="upload-zone d-flex flex-column align-items-center justify-content-center border-dashed rounded" 
             style="height: 80px; width: 80px; cursor: pointer; border: 2px dashed #ccc; background: #f8f9fa;"
             onclick="document.getElementById('imagenesInput').click()">
            <i class="bi bi-camera fs-4 text-muted"></i>
            <span style="font-size: 10px;" class="text-muted">FOTOS</span>
        </div>
        <input type="file" name="imagenes" id="imagenesInput" class="d-none" accept="image/*" multiple onchange="handleFileSelect(this, 'lista-imagenes', 'foto')" />
        <div id="lista-imagenes" class="d-flex flex-wrap gap-2 mt-2"></div>
    </div>

    <div class="col-md-6">
        <label class="form-label fw-bold text-success small">Videos de la Propiedad</label>
        
        {% if p %}
        <div class="d-flex flex-wrap gap-2 mb-3">
            {% for archivo in p.archivos if archivo.tipo == 'video' %}
            <div class="position-relative border rounded bg-dark d-flex align-items-center justify-content-center shadow-sm" 
                 style="width: 80px; height: 80px;">
                <i class="bi bi-play-circle text-white fs-3"></i>
                <button type="button" onclick="borrarArchivoAjax(this, '{{ archivo.id }}')" 
                        class="btn btn-danger btn-sm position-absolute top-0 end-0 p-0 shadow" 
                        style="width:20px; height:20px; margin-top: -5px; margin-right: -5px; border-radius: 50%;">×</button>
            </div>
            {% endfor %}
        </div>
        {% endif %}

        <div class="upload-zone d-flex flex-column align-items-center justify-content-center border-dashed rounded" 
             style="height: 80px; width: 80px; cursor: pointer; border: 2px dashed #ccc; background: #f8f9fa;"
             onclick="document.getElementById('videosInput').click()">
            <i class="bi bi-play-btn fs-4 text-muted"></i>
            <span style="font-size: 10px;" class="text-muted">VIDEO</span>
        </div>
        <input type="file" name="video" id="videosInput" class="d-none" accept="video/*" multiple onchange="handleFileSelect(this, 'lista-videos', 'video')" />
        <div id="lista-videos" class="d-flex flex-wrap gap-2 mt-2"></div>
    </div>
</div>